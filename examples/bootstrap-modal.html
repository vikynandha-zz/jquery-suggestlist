<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <title>jQuery suggestlist demo</title>
        <link rel="stylesheet" href="../css/suggestlist.css"/>
        <link rel="stylesheet" href="http://twitter.github.com/bootstrap/assets/css/bootstrap.css"/>
        <style>
            #inputbox {
                display: block;
                margin: auto;
                width: 210px;
                height: 20px;
                padding: 4px;
            }
        </style>
    </head>
    <body>
        <div class="modal hide fade" id="my-modal">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h3>Some modal</h3>
            </div>

            <div class="modal-body" style="padding-top:50px; padding-bottom:100px;">
                <form>
                    <input type="text" class="suggestlist" id="inputbox" value="30 min" />
                </form>
            </div>
        </div>

        <div style="padding:100px;">
            <button id="trigger-bootstrap-modal">Show modal</button>
        </div>

        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js" type="text/javascript"></script>
        <script src="https://raw.github.com/twitter/bootstrap/master/js/bootstrap-modal.js" type="text/javascript"></script>
        <script src="../js/jquery-suggestlist.js" type="text/javascript"></script>
        <script>
            $( '#inputbox' ).suggestlist({
                list: ['15 min', '30 min', '1 hr', '2 hr', '3 hr']
            });
            $('#trigger-bootstrap-modal').on('click', function() {
                $('#my-modal').modal();
            });
            $( '#my-modal' ).on( 'hidden', function() {
                $( this ).find( 'form' )[0].reset();
                
               /***Start of Issue #1)***/
               $('ul.suggestlist').find('li').removeClass('suggestlist-selected');
               
                var objectData = $('ul.suggestlist li');
                $.each(objectData, function() { 
                    if($(this).text() == $('#inputbox').val())
                    { 
                        $(this).addClass('suggestlist-selected');
                    }
                });
                 /***End of Issue #1)***/
            } );
        </script>
    </body>
</html>
